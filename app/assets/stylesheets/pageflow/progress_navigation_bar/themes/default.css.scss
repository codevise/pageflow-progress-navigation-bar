$nav-color: $main-color;
$nav-font: $standard-font;

$nav-active-chapter: desaturate($main-color, 50%);
$nav-active-page: $main-color;

$nav-active-chapter-beginning: desaturate($main-color, 40%);

$nav-hint-color: #A9A9A9 !default;
$nav-display-header-button: false !default;
$nav-display-overview-button: true !default;
$nav-display-sharing-button: true !default;

$nav-chapter-beginning: #afafaf;
$nav-dot-even: #9B9B9B;
$nav-dot-odd: #afafaf;

$nav-bg-color: $basic-background-color;
$bg-color: $nav-bg-color;
$nav-bg-color-transparent: $basic-background-color-transparent;

@import "../mixins";

.progress_navigation_bar {

  .navigation_site_detail .thumbnail {
    @extend %pageflow_page_type_thumbnail;

    width: 170px;
    height: 95px;

    &:after {
      position: absolute;
      top: 79px;
      left: 81px;
      width: 38px;
      height: 38px;
      content: "";
      background-size: 76px 38px;
      background-repeat: no-repeat;
    }
  }

  @if $nav-display-header-button {
    &.horizontal .scroller .navigation_dots {
      width: calc(100% - 40px);
    }

    .header_button {
      display: block;
      position: absolute;
      right: 2px;
      top: 2px;
      width: 26px;
      height: 26px;

      a {
        display: block;
        text-decoration: none;
        padding: 0;

        .button {
          color: white;
          font-size: 22px;
          background: none;
          @include fa-bars-icon;
        }

        .button.close {
          @include fa-times-icon;
        }
      }
    }
    
    .navigation_button_area .navigation_bar_buttons li {
      height: 11.11%;

      &.mute {
        height: 22.22%;
      }
    }

    &.with_home_button {
      .navigation_button_area .navigation_bar_buttons li {
        height: 10%;

        &.mute {
          height: 20%;
        }
      }
    }
  } @else {
    .navigation_button_area .navigation_bar_buttons li {
      height: 12.25%;

      &.menu_li {
        display: none;
      }

      &.mute {
        height: 25%;
      }
    }

    &.with_home_button {
      .navigation_button_area .navigation_bar_buttons li {
        height: 11.11%;

        &.mute {
          height: 22.22%;
        }
      }
    }
  }

  @if not $nav-display-overview-button {
    .navigation_overview_item {
      display: none;
    }
  }

  &.horizontal.js {
    background: $bg-color;

    .navigation_button_area .navigation_bar_buttons {
      background: $bg-color;

      @if not $nav-display-overview-button {
        .navigation_overview_item {
          display: none;
        }
      }

      @if not $nav-display-sharing-button {
        .navigation_menu.share {
          display: none;
        }
      }
    }
  }

  .navigation_button_area .navigation_bar_buttons {
    &:after {
      background-color: $nav-bg-color-transparent;
    }

    .navigation_credits_box a {
      color: $main-color;
    }

    &.js .navigation_bar_bottom li.fullscreen {
      height: auto;
    }

    &.js a.scroll_indicator {
      background-image: image-url('pageflow/themes/default/scroll_indicator_sprite.png');
    }

    li {
      > a {
        &:hover .navi_hint, &.active .navi_hint {
          color: $nav-color;
        }
      }
    }

    .navigation_share_box {
      a {
        text-align: center;

        p {
          font-family: SourceSansPro;
          font-size: 12px;
        }
      }

      a:hover {
        p {
          color: $nav-color;
        }

        .share_google, .share_facebook, .share_twitter {
          &:before {
            color: $nav-color;
          }
        }
      }
    }
  }

  &.js .scroller:after {
    background-color: $nav-bg-color-transparent;
  }

  .scroller ul, &.js .scroller ul {
    a {
      position: absolute;
      top: 0;
      left: 0;
      height: 100%;
      width: 100%;
      background-color: $nav-dot-even;
      border-bottom: 1px solid $nav-bg-color-transparent;
      @include box-sizing(border-box);

      &.in_active_chapter {
        background-color: $nav-active-chapter;
      }

      &.active {
        cursor: default;
        background-color: $nav-active-page;

        img {
          border-left: 5px solid $nav-active-page;
        }
      }
    }

    li.chapter_beginning a {
      background-color: $nav-chapter-beginning;

      &.in_active_chapter {
        background-color: $nav-active-chapter-beginning;
      }

      &.active {
        background-color: $main-color;
      }
    }

    img {
      display: block;
    }

    &.no_chapters {
      li.chapter_beginning a, li a.in_active_chapter, li.chapter_beginning a.in_active_chapter {
        background-color: $nav-dot-even;

        &.active {
          background-color: $nav-active-page;
        }
      }
    }
  }

  &.js .volume-control .volume-level {
    background-color: $nav-color;
  }
}
